setwd("C:/Users/Laesser/OneDrive - Universität Zürich UZH/Dokumente/Universität Zürich/12. Semester/Empirical Finance/EmpiricalFinance/Assignment 2")
###############
# Data import #
###############
prices_monthly <- read.delim(file = 'A2_dataset_01.txt', header = TRUE, sep = '\t', dec = '.')
interest_rates <- read.delim(file = 'A2_dataset_02.txt', header = TRUE, sep = '\t', dec = '.')
SMI <- read.delim(file = 'A2_dataset_03.txt', header = TRUE, sep = '\t', dec = '.')
prices_daily <- read.delim(file = 'A2_dataset_04.txt', header = TRUE, sep = '\t', dec = '.')
betas <- read.delim(file = 'A2_dataset_05.txt', header = TRUE, sep = '\t', dec = '.')
View(interest_rates)
date <- as.Date(prices_monthly[,1])
prices.ts <- xts(x = prices_monthly[,-1], order.by = date)
returns <- Return.calculate(prices = prices.ts, method = 'discrete')
# load libraries
library(xts)
prices.ts <- xts(x = prices_monthly[,-1], order.by = date)
returns <- Return.calculate(prices = prices.ts, method = 'discrete')
library(PerformanceAnalytics)
library(psych)
library(roll)
install.packages("roll")
returns <- Return.calculate(prices = prices.ts, method = 'discrete')
View(returns)
View(SMI)
# set working directory
# setwd("~/UZH/Empirical Finance/Assignment 1")
setwd("C:/Users/p_lae/OneDrive - Universität Zürich UZH/Dokumente/Universität Zürich/12. Semester/Empirical Finance/EmpiricalFinance/Assignment 2")
# load libraries
library(xts)
library(PerformanceAnalytics)
library(psych)
library(roll)
###############
# Data import #
###############
prices_monthly <- read.delim(file = 'A2_dataset_01.txt', header = TRUE, sep = '\t', dec = '.')
interest_rates <- read.delim(file = 'A2_dataset_02.txt', header = TRUE, sep = '\t', dec = '.')
SMI_monthly <- read.delim(file = 'A2_dataset_03.txt', header = TRUE, sep = '\t', dec = '.')
prices_daily <- read.delim(file = 'A2_dataset_04.txt', header = TRUE, sep = '\t', dec = '.')
betas <- read.delim(file = 'A2_dataset_05.txt', header = TRUE, sep = '\t', dec = '.')
# create monthly returns for stocks and SMI
date <- as.Date(prices_monthly[,1])
prices.ts <- xts(x = prices_monthly[,-1], order.by = date)
returns <- Return.calculate(prices = prices.ts, method = 'discrete')
SMI_monthly <- xts(SMI_monthly[,-1], order.by = as.Date(SMI_monthly$Date))
SMI_TotRet_mon <- Return.calculate(SMI_monthly)
# turn interest_rates into ts and divide by 100 because it is in percentages
interest_rates <- xts(interest_rates[,-1], order.by = as.Date(interest_rates$Date))
interest_rates <- interest_rates/100
# make regression for beta --> only up to August 2020 (because of unavailable data for Adecco)
fit_adecco <- lm(returns$Adecco['2016-03-31/2020-8-31']
- interest_rates$SWISS.CONFEDERATION.BOND.5.YEAR...RED..YIELD['2016-03-31/2020-8-31']
~ SMI_TotRet_mon$SMI.Total.Return['2016-03-31/2020-8-31']
- interest_rates$SWISS.CONFEDERATION.BOND.5.YEAR...RED..YIELD['2016-03-31/2020-8-31'])
test_adecco <- returns$Adecco['2016-03-31/2020-8-31']
test_interest <- interest_rates$SWISS.CONFEDERATION.BOND.5.YEAR...RED..YIELD['2016-03-31/2020-8-31']
test_SMI <- SMI_TotRet_mon$SMI.Total.Return['2016-03-31/2020-8-31']
View(test_adecco)
# make regression for beta --> only up to August 2020 (because of unavailable data for Adecco)
fit_adecco <- lm(returns$Adecco['2016-03-31/2020-08-31']
- interest_rates$SWISS.CONFEDERATION.BOND.5.YEAR...RED..YIELD['2016-03-31/2020-08-31']
~ SMI_TotRet_mon$SMI.Total.Return['2016-03-31/2020-08-31']
- interest_rates$SWISS.CONFEDERATION.BOND.5.YEAR...RED..YIELD['2016-03-31/2020-08-31'])
test_adecco <- returns$Adecco['2016-03-31/2020-08-31']
test_interest <- interest_rates$SWISS.CONFEDERATION.BOND.5.YEAR...RED..YIELD['2016-03-31/2020-08-31']
test_SMI <- SMI_TotRet_mon$SMI.Total.Return['2016-03-31/2020-08-31']
View(test_adecco)
View(test_interest)
View(test_SMI)
test1 <- test_adecco - test_interest
test2 <- test_SMI - test_interest
test_reg <- lm(test1 ~test2)
test_adecco <- returns$Adecco['2016-03-31/2021-02-26']
test_interest <- interest_rates$SWISS.CONFEDERATION.BOND.5.YEAR...RED..YIELD['2016-03-31/2021-02-26']
test_SMI <- SMI_TotRet_mon$SMI.Total.Return['2016-03-31/2021-02-26']
test1 <- test_adecco - test_interest
test2 <- test_SMI - test_interest
test_reg <- lm(test1 ~test2)
View(test_reg)
adecco_excess <- returns$Adecco['2016-03-31/2021-02-26'] - interest_rates$SWISS.CONFEDERATION.BOND.5.YEAR...RED..YIELD['2016-03-31/2021-02-26']
View(adecco_excess)
SMI_excess <- SMI_TotRet_mon$SMI.Total.Return['2016-03-31/2021-02-26'] - interest_rates$SWISS.CONFEDERATION.BOND.5.YEAR...RED..YIELD['2016-03-31/2021-02-26']
fit_adecco <- lm(adecco_excess ~SMI_excess)
result_adecco<- summary(fit_adecco)
result_adecco
cs_excess <- returns$Credit_Suisse_Group['2016-03-31/2021-02-26'] - interest_rates$SWISS.CONFEDERATION.BOND.5.YEAR...RED..YIELD['2016-03-31/2021-02-26']
fit_cs <- lm(cs_excess ~SMI_excess)
result_cs<- summary(fit_cs)
result_cs
lafarge_excess <- returns$LafargeHolcim['2016-03-31/2021-02-26'] - interest_rates$SWISS.CONFEDERATION.BOND.5.YEAR...RED..YIELD['2016-03-31/2021-02-26']
fit_lafarge <- lm(lafarge_excess ~SMI_excess)
result_lafarge<- summary(fit_lafarge)
result_lafarge
swisscom_excess <- returns$Credit_Suisse_Group['2016-03-31/2021-02-26'] - interest_rates$SWISS.CONFEDERATION.BOND.5.YEAR...RED..YIELD['2016-03-31/2021-02-26']
fit_swisscom <- lm(swisscom_excess ~SMI_excess)
result_swisscom<- summary(fit_swisscom)
result_swisscom
cs_excess <- returns$Credit_Suisse_Group['2016-03-31/2021-02-26'] - interest_rates$SWISS.CONFEDERATION.BOND.5.YEAR...RED..YIELD['2016-03-31/2021-02-26']
fit_cs <- lm(cs_excess ~SMI_excess)
result_cs<- summary(fit_cs)
result_cs
beta_adecco <- result_adecco$coefficients[2,1]
beta_adecco
beta_cs <- result_cs$coefficients[2,1]
beta_cs
result_adecco
alpha_adecco <- result_adecco$coefficients[1,1]
r2_adecco <- result_adecco$r.squared
resstddev_adecco <- sigma(fit_adecco)
stderrbeta_adecco <- result_adecco$coefficients[2,2]
stderralpha_adecco <- result_adecco$coefficients[1,2]
row_adecco <- c(result_adecco$coefficients[2,1],
result_adecco$coefficients[1,1],
sigma(fit_adecco),
result_adecco$coefficients[2,2],
result_adecco$coefficients[1,2])
row_cs <- c(result_cs$coefficients[2,1],
result_cs$coefficients[1,1],
sigma(fit_cs),
result_cs$coefficients[2,2],
result_cs$coefficients[1,2])
row_lafarge <- c(result_lafarge$coefficients[2,1],
result_lafarge$coefficients[1,1],
sigma(fit_lafarge),
result_lafarge$coefficients[2,2],
result_lafarge$coefficients[1,2])
row_swisscom <- c(result_swisscom$coefficients[2,1],
result_swisscom$coefficients[1,1],
sigma(fit_swisscom),
result_swisscom$coefficients[2,2],
result_swisscom$coefficients[1,2])
beta_table <- rbind(row_adecco, row_cs, row_lafarge, row_swisscom)
View(beta_table)
row_adecco <- c(result_adecco$coefficients[2,1],
result_adecco$coefficients[1,1],
result_adecco$r.squared,
sigma(fit_adecco),
result_adecco$coefficients[2,2],
result_adecco$coefficients[1,2])
row_cs <- c(result_cs$coefficients[2,1],
result_cs$coefficients[1,1],
result_cs$r.squared,
sigma(fit_cs),
result_cs$coefficients[2,2],
result_cs$coefficients[1,2])
row_lafarge <- c(result_lafarge$coefficients[2,1],
result_lafarge$coefficients[1,1],
result_lafarge$r.squared,
sigma(fit_lafarge),
result_lafarge$coefficients[2,2],
result_lafarge$coefficients[1,2])
Adecco <- c(result_adecco$coefficients[2,1],
result_adecco$coefficients[1,1],
result_adecco$r.squared,
sigma(fit_adecco),
result_adecco$coefficients[2,2],
result_adecco$coefficients[1,2])
row_adecco <- c(result_adecco$coefficients[2,1],
result_adecco$coefficients[1,1],
result_adecco$r.squared,
sigma(fit_adecco),
result_adecco$coefficients[2,2],
result_adecco$coefficients[1,2])
row_cs <- c(result_cs$coefficients[2,1],
result_cs$coefficients[1,1],
result_cs$r.squared,
sigma(fit_cs),
result_cs$coefficients[2,2],
result_cs$coefficients[1,2])
row_lafarge <- c(result_lafarge$coefficients[2,1],
result_lafarge$coefficients[1,1],
result_lafarge$r.squared,
sigma(fit_lafarge),
result_lafarge$coefficients[2,2],
result_lafarge$coefficients[1,2])
row_swisscom <- c(result_swisscom$coefficients[2,1],
result_swisscom$coefficients[1,1],
result_swisscom$r.squared,
sigma(fit_swisscom),
result_swisscom$coefficients[2,2],
result_swisscom$coefficients[1,2])
beta_table <- rbind(row_adecco, row_cs, row_lafarge, row_swisscom)
rownames(beta_table) <- c("Adecco", "Credit Suisse", "LafargeHolcim", "Swisscom")
colnames(beta_table) <- c("Beta", "Alpha", "R2", "Res. Std. Dev.", "Std. Err. Beta", "Std Err. Alpha")
View(beta_table)
